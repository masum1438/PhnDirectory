<nav class="navbar navbar-expand-lg navbar-dark bg-dark shadow-sm ">
  <div class="container-fluid">
    <a class="navbar-brand fw-bold text-warning" routerLink="/">ğŸ“˜ MyApp</a>
    <button
      class="navbar-toggler"
      type="button"
      data-bs-toggle="collapse"
      data-bs-target="#navbarNav"
    >
      <span class="navbar-toggler-icon"></span>
    </button>

    <div class="collapse navbar-collapse" id="navbarNav">
      <!-- Show if not logged in -->
      <ul class="navbar-nav ms-auto" *ngIf="!(currentUser$ | async); else loggedIn">
        <li class="nav-item">
          <a class="nav-link" routerLink="/login">ğŸ”‘ Login</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" routerLink="/register">ğŸ“ Register</a>
        </li>
      </ul>

      <!-- Logged-in Section -->
      <ng-template #loggedIn>
        <ul class="navbar-nav ms-auto align-items-center">
          <li class="nav-item me-2">
            <a class="btn btn-outline-warning" routerLink="/contact-list">ğŸ“‡ Contacts</a>
          </li>

          <li class="nav-item me-3">
            <span class="text-light small">
              ğŸ‘¤ {{ (currentUser$ | async)?.email }}
              <span class="badge bg-info ms-1">{{ (currentUser$ | async)?.role }}</span>
            </span>
          </li>

          <!-- Only Admin -->
          <li class="nav-item me-2" *ngIf="(currentUser$ | async)?.role?.includes('Admin')">
            <a class="btn btn-outline-info" routerLink="/roleassign">âš™ï¸ Assign Roles</a>
          </li>

          <li class="nav-item">
            <button class="btn btn-danger" (click)="logout()" routerLink="/login">ğŸšª Logout</button>
          </li>
        </ul>
      </ng-template>
    </div>
  </div>
</nav>
